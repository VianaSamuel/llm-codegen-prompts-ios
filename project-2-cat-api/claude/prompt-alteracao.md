## Prompt Utilizado

Modifique o aplicativo iOS existente que consome dados da The Cat API (https://thecatapi.com/) alterando a arquitetura de MVVM para VIPER mantendo toda funcionalidade e lógica de negócios existentes: preserve os modelos de dados Cat e Breed com suas propriedades e conformidade Codable, mantenha NetworkManager e CatService inalterados como camadas de infraestrutura, refatore cada módulo (CatsList, CatDetail, Favorites, Settings) seguindo padrão VIPER com View (UIViewController), Interactor (lógica de negócios), Presenter (mediador entre View e Interactor), Entity (modelos de dados), Router (navegação), implemente CatsListView (CatsListViewController) mantendo UICollectionView, pull-to-refresh, infinite scroll e interface existente mas removendo referências diretas a ViewModel, crie CatsListInteractor responsável por operações de negócio como fetchCats, applyFilters, handlePagination, manageFavorites usando CatService e NetworkManager existentes, desenvolva CatsListPresenter como mediador implementando protocolos CatsListViewProtocol e CatsListInteractorOutputProtocol, gerenciando formatação de dados para exibição, tratamento de estados (loading, loaded, error, empty) e comunicação bidirecional entre View e Interactor, implemente CatsListRouter para navegação entre módulos com métodos pushToCatDetail, presentSettings, showErrorAlert mantendo navegação existente, defina protocolos claros CatsListViewProtocol (showCats, showLoading, showError, refreshUI), CatsListInteractorInputProtocol (fetchRandomCats, searchCats, toggleFavorite), CatsListInteractorOutputProtocol (didFetchCats, didFailWithError, didUpdateFavoriteStatus) e CatsListRouterProtocol (navigateToDetail, presentSettings), aplique mesmo padrão VIPER para CatDetailModule preservando funcionalidades de zoom, compartilhamento, favoritos com CatDetailView, CatDetailInteractor, CatDetailPresenter, CatDetailRouter e protocolos correspondentes, refatore FavoritesModule mantendo lista de favoritos e remoção com FavoritesView, FavoritesInteractor, FavoritesPresenter, FavoritesRouter seguindo mesma estrutura, transforme SettingsModule preservando opções de configuração com SettingsView, SettingsInteractor, SettingsPresenter, SettingsRouter, implemente ModuleBuilder/Assembly pattern para criar e configurar cada módulo VIPER com dependency injection apropriado, mantenha ImageCache, FavoritesManager e todos os serviços de infraestrutura inalterados como dependências injetadas nos Interactors, preserve tratamento de erros existente adaptando para comunicação via protocolos entre camadas VIPER, mantenha funcionalidades como busca, filtros, paginação, cache de imagens, favoritos, configurações, modo escuro, accessibility adaptando apenas a comunicação entre componentes, implemente testes unitários para cada camada VIPER especialmente Presenters e Interactors usando mocks dos protocolos, mantenha Auto Layout, animações, performance otimizada e user experience existentes, preserve Launch Screen, ícones e configurações do projeto, garanta que a migração seja transparente para o usuário final mantendo toda funcionalidade, visual e comportamento idênticos, organize arquivos em pastas por módulo seguindo estrutura VIPER (Modules/CatsList/View, Modules/CatsList/Interactor, etc.), adicione documentação explicando arquitetura VIPER implementada e responsabilidades de cada camada, e assegure que o código permaneça totalmente funcional, bem estruturado, testável e siga melhores práticas de desenvolvimento iOS com Swift incluindo proper protocol-oriented programming, dependency injection, separation of concerns e clean architecture principles.